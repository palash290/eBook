<section class="ct_mt_40 ct_px_40">
      <div class="container-fluid">
            <div class="row">
                  @if(bookData){
                  <div class="col-md-12">
                        <div class="d-flex align-items-center justify-content-between gap-3 flex-wrap">
                              <h6 class="mb-0 ct_fs_16 ct_fw_600 text-capitalize">{{bookData.title}} by
                                    {{bookData.author?.fullName}}
                              </h6>
                              <ul class="d-flex align-items-center gap-2 ct_bread_crumb_list">
                                    <li><a routerLink="/" class="ct_fw_600">Home</a></li>
                                    <li>/</li>
                                    <li class="ct_text_636363 ct_fw_600 text-capitalize "> {{bookData.title}} by
                                          {{bookData.author?.fullName}}
                                    </li>
                              </ul>
                        </div>
                  </div>
                  }
            </div>
      </div>
</section>

<section class="ct_pt_60  ct_px_40">
      <div class="container-fluid">
            <div class="row">
                  <div class="col-lg-5 mb-4 mb-lg-0">
                        <div class="ct_left_side_product_img">
                              <div class="owl-carousel owl-theme ct_product_detail_slider">
                                    <!-- @if(bookData?.bookMedia){ -->
                                    @for (item of bookData.bookMedia.slice(0, 5); track $index) {
                                    <div class="item"><img [src]="item.mediaUrl" alt="Slide 1">
                                    </div>
                                    }
                                    <!-- } -->
                              </div>
                              <ul class="ct_custom-dots">
                                    <!-- @if(bookData?.bookMedia){ -->
                                    @for (item of bookData.bookMedia.slice(0, 5); track $index) {
                                    <li class="ct_dot" [attr.data-slide]="$index">
                                          <img [src]="item.mediaUrl" alt="Slide 1" (click)="slide($index)">
                                    </li>
                                    }
                                    <!-- } -->
                              </ul>
                        </div>
                  </div>
                  <div class="col-lg-7  mb-4 mb-lg-0">
                        <div class="ct_product_detail_right">
                              <!-- <div class="ct_product_timely_view_main mb-4">
                                    <ul>
                                          <li>
                                                <h4 class="ct_fs_16 ct_fw_400 mb-0"><span
                                                            class="ct_fw_600 ct_purple_text me-2">27</span>Orders
                                                      In Last 24 Hours</h4>
                                          </li>
                                          <li>
                                                |
                                          </li>
                                          <li>
                                                <h4 class="ct_fs_16 ct_fw_400 mb-0"><span
                                                            class="ct_fw_600 ct_purple_text me-2">16</span>Active View
                                                      This Product</h4>
                                          </li>
                                    </ul>

                              </div> -->
                              @if(bookData){
                              <h4 class="ct_fs_24 ct_fw_600 text-capitalize "> {{bookData.title}} by
                                    {{bookData.author?.fullName}}
                              </h4>
                              <p class="ct_fs_14 ct_fw_500 mt-3"><span class="ct_text_636363">{{bookData.costPrice |
                                          currency:'USD' }}</span>
                                    <span class="ct_purple_text ms-2">-{{((bookData.costPrice -
                                          bookData.price)/bookData.costPrice)*100 | number:'1.0-0'}}%
                                          off</span>
                              </p>

                              <h3 class="ct_fs_28">{{bookData.price | currency:'USD'}}</h3>
                              <div class="ct_mt_32">
                                    <p class="mb-2 ct_text_636363">Genres:</p>
                                    <p class="mb-0 ct_dark_purple_text">
                                          {{categoryNames}}
                                    </p>
                              </div>
                              <div class="ct_mt_32">
                                    <p class="mb-3 ct_text_636363">Quantity:</p>
                                    <div class="position-relative ct_countity_count">
                                          <button class="ct_minus" (click)="decreaseValue()"><i
                                                      class="fa-solid fa-minus "></i></button>
                                          <input type="number" class="form-control bg-white" [value]="quantity"
                                                readonly />
                                          <button class="ct_plus" (click)="increaseValue()"><i
                                                      class="fa-solid fa-plus "></i></button>
                                    </div>
                              </div>

                              <div class="col-xl-4 col-lg-5 col-md-5 col-sm-6  mb-3 mt-3 mb-sm-0">
                                    <h5 (click)="addToFav(bookData.id)"
                                          class="mb-0 ct_purple_text ct_fs_18 ct_cursor_pointer">

                                          @if(bookData.isFavorite){
                                          <i class="fa fa-heart me-2 "></i>
                                          } @else {
                                          <i class="fa-regular fa-heart me-2 "></i>
                                          }
                                          {{bookData.isFavorite ? 'Remove from' : 'Add to'}}
                                          wishlist
                                    </h5>
                              </div>
                              <div class="ct_btn_group ct_mt_32  ct_flex_direction_row_res">
                                    <button type="button" class="ct_purple_btn ct_border_corner_0"
                                          (click)="addToCart(bookData)">Add to cart</button>
                                    <button type="button" class="ct_purple_outline_btn ct_border_corner_0"
                                          (click)="read(bookData)">Read
                                          now</button>
                              </div>
                              }

                              <!-- <div class="ct_mt_32">
                                    <h4 class="ct_fs_16 ct_fw_600 mb-2">Product Details</h4>
                                    <p class="ct_text_636363">
                                          Add an extra dose of style with this raw look henley t-shirt from the house of
                                          Tinted.
                                          Team this T-shirt with distressed jeans and leather sandals for a relaxed
                                          and...
                                    </p>
                              </div> -->
                              <div class="ct_mt_32">
                                    <!-- <h4 class="ct_fs_16 ct_fw_600 mb-2">Share it</h4> -->
                                    <div class="row">
                                          <!-- <div class="col-xl-4 col-lg-5 col-md-5 col-sm-6 mb-3 mb-sm-0">
                                                <ul class="ct_social_media_list">
                                                      <li>
                                                            <a href="#">
                                                                  <svg width="10" height="18" viewBox="0 0 10 18"
                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path d="M6.39703 17.9972V9.80115H9.16203L9.57303 6.59215H6.39703V4.54815C6.39703 3.62215 6.65503 2.98815 7.98403 2.98815H9.66803V0.12715C8.84903 0.03915 8.02503 -0.00285004 7.20103 0.000149963C4.75703 0.000149963 3.07903 1.49215 3.07903 4.23115V6.58615H0.332031V9.79515H3.08503V17.9972H6.39703Z"
                                                                              fill="#000" />
                                                                  </svg>

                                                            </a>
                                                      </li>
                                                      <li>
                                                            <a href="#">
                                                                  <svg width="18" height="18" viewBox="0 0 18 18"
                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                                              d="M13.5 0H4.5C2.02522 0 0 2.02432 0 4.5V13.5C0 15.9748 2.02522 18 4.5 18H13.5C15.9748 18 18 15.9748 18 13.5V4.5C18 2.02432 15.9748 0 13.5 0ZM9 12.7499C6.92865 12.7499 5.24993 11.0704 5.24993 9C5.24993 6.92865 6.92865 5.24993 9 5.24993C11.0704 5.24993 12.7501 6.92865 12.7501 9C12.7501 11.0704 11.0704 12.7499 9 12.7499ZM12.7501 4.12492C12.7501 4.74615 13.2532 5.24992 13.8751 5.24992C14.497 5.24992 15.0001 4.74615 15.0001 4.12492C15.0001 3.5037 14.497 2.99992 13.8751 2.99992C13.2532 2.99992 12.7501 3.5037 12.7501 4.12492Z"
                                                                              fill="#000" />
                                                                  </svg>

                                                            </a>
                                                      </li>
                                                      <li>
                                                            <a href="#">
                                                                  <svg width="20" height="18" viewBox="0 0 20 16"
                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path d="M17.633 3.99655C17.646 4.17155 17.646 4.34555 17.646 4.51955C17.646 9.84455 13.593 15.9806 6.186 15.9806C3.904 15.9806 1.784 15.3196 0 14.1716C0.324 14.2086 0.636 14.2216 0.973 14.2216C2.856 14.2216 4.589 13.5856 5.974 12.5006C4.203 12.4636 2.719 11.3036 2.207 9.70755C2.456 9.74455 2.706 9.76956 2.968 9.76956C3.329 9.76956 3.692 9.71955 4.029 9.63256C2.182 9.25856 0.799 7.63755 0.799 5.67955V5.62955C1.336 5.92855 1.959 6.11555 2.619 6.14055C1.534 5.41855 0.823 4.18355 0.823 2.78655C0.823 2.03855 1.022 1.35255 1.371 0.754555C3.354 3.19755 6.335 4.79455 9.677 4.96955C9.615 4.66955 9.577 4.35855 9.577 4.04655C9.577 1.82655 11.373 0.0185547 13.605 0.0185547C14.765 0.0185547 15.812 0.504555 16.548 1.29055C17.458 1.11555 18.33 0.778555 19.104 0.317555C18.805 1.25255 18.168 2.03855 17.333 2.53755C18.144 2.44955 18.93 2.22555 19.652 1.91355C19.104 2.71155 18.419 3.42255 17.633 3.99655Z"
                                                                              fill="#000" />
                                                                  </svg>

                                                            </a>
                                                      </li>
                                                      <li>
                                                            <a href="#">
                                                                  <svg width="23" height="18" viewBox="0 0 23 16"
                                                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                                                              d="M19.967 0.731095C20.9288 0.856396 21.848 1.7917 21.9649 2.76711C22.379 6.34183 22.379 9.80823 21.9649 13.3818C21.848 14.3572 20.9288 15.2937 19.967 15.4178C14.1026 16.1465 8.17197 16.1465 2.30924 15.4178C1.34665 15.2934 0.427488 14.3572 0.310539 13.3818C-0.103513 9.80795 -0.103513 6.34183 0.310539 2.76711C0.427488 1.7917 1.34665 0.856118 2.30924 0.731095C8.17197 0.00239553 14.1024 0.00239553 19.967 0.731095ZM9.28131 4.36234V11.7877L14.8503 8.07517L9.28131 4.36234Z"
                                                                              fill="#000" />
                                                                  </svg>

                                                            </a>
                                                      </li>


                                                </ul>

                                          </div> -->
                                    </div>
                              </div>
                        </div>
                  </div>


            </div>

      </div>
</section>

<section class="ct_pt_60 ct_px_40">
      <div class=" container-fluid">
            <div class="row">
                  <div class="col-md-12">
                        <ul class="ct_add_cart_tab">
                              <li>
                                    <button>DESCRIPTION</button>
                              </li>
                        </ul>
                        <div class="ct_description_tab_content ct_description_tab_content">
                              @if(bookData){
                              <p>
                                    {{bookData.description}}
                              </p>
                              }
                        </div>
                  </div>
            </div>
      </div>
</section>

<section class="ct_pt_60 ct_px_40 ct_mt_40 ct_pb_80 mb-4">
      <div class="container-fluid">
            <div class="row">
                  <div class="col-md-12">
                        <h2 class="ct_fs_36 ct_fw_600 ct_border_btm_1 pb-3">Related Products</h2>

                  </div>

            </div>
            <div class="row ct_mt_32 justify-content-center">
                  @for (item of relatedBooks.slice(0, 5); track $index) {
                  <div class="col-xl-2 col-lg-3 col-md-4 col-sm-4 mb-4">
                        <div class="ct_new_product_card_12">
                              <a (click)="reloadComponent(item)">
                                    <div class="ct_new_product_img_34">
                                          <img [src]="item.coverImage" alt="">
                                    </div>
                                    <div class="text-center">
                                          <h5 class="mb-2 ct_fs_12 ct_fw_400 text-capitalize">{{item.title}} by
                                                {{item.author?.fullName}}
                                          </h5>
                                          <p><span class="ct_fw_500">{{item.price | currency:'USD'}}</span><span
                                                      class="ct_text_676767 ms-2"><del>{{item.costPrice |
                                                            currency:'USD'}}</del></span>
                                          </p>
                                    </div>
                              </a>
                        </div>
                  </div>
                  }
            </div>
      </div>
</section>

<app-loader *ngIf="loading"></app-loader>